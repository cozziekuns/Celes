<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Lean Mahjong</title>
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,300i,400,400i" rel="stylesheet">
    <link rel="stylesheet" href="/assets/css/styles.css">
  </head>
  <body>
    <div class="container">
      <header>
        <h1>
          <a href="/">Lean Mahjong</a>
        </h1>
        <p class="subtitle">A framework for competitive success</p>
      </header>
      <div class="navbar">
        <ul>
          <li>
            <a href="/">Home</a>
          </li>
          <li>
            <a href="/glossary.html">Glossary</a>
          </li>
        </ul>
      </div>
      <ul class="post">
  
    <li class="post">
      <h2>
        <a href="/2018/11/05/find-a-friend.html">Find a Friend</a>
      </h2>
      <div class="post-date">
        <p class="subtitle">05 Nov 2018</p>
      </div>
      <div class="post">
        <p><strong><em>Anyone can play solitaire.</em></strong></p>

<p>A friend of mine once posited that they could make a strong mahjong bot simply by running a 
machine-learning model tuned towards maximising agari-rate. Fortunately for us humans, mahjong is 
not such a simple game. What mahjong is not about is winning hands; after all, anyone can play 
solitaire. What mahjong really is about is <em>winning games</em>. And, like in life, trying to go it 
alone is a bad idea; the best way to win is often to <em>find a friend</em>.</p>

<p><img src="/assets/img/4-1.png" alt="4-1" /></p>

<p>What should we discard here? The first thing that anyone should do before deciding what to discard, 
is to take stock of the current situation. Currently, we’re in ORAS with a decently comfortable 
lead over 3rd and 4th. Normally, the first thing you should be thinking when even a mangan direct 
from 3rd or 4th will keep you in 3rd place is to aim for 1st. Unfortunately, 1st place is more than 
a haneman tsumo away from us; in order to even think about taking 1st place, we’d need to form a 
haneman class hand, and then pray we flip some ura dora on the tsumo for a baiman, or pray that 1st 
place plays into us.</p>

<p>Aiming for 1st place here is not only unrealistic, it puts us in danager of falling into 3rd. While 
we do have a comfortable lead over 3rd and 4th, that lead is rather fickle; a mangan tsumo from 
either player will put us into 3rd, and we would end up losing a precious +45 dan points that 
should’ve been all but secured. Worse, if we end up riiching and flying too close to the sky, we 
might end up with some clipped wings as we play into a mangan from 4th place, and end up in last 
place due to the thousand points we pay with the riichi stick.</p>

<p>So the goal of this hand should be to secure 2nd place. There are actually a few ways we can 
accomplish this. The first, and most straightforward method, would be to of course win a hand. 
While two turns in it does look like our hand is pretty fast, this is one of those hands where 
it’ll be hard to secure a yaku that isn’t riichi. Pinfu is probably the closest candidate, to a 
yaku that we can use, but it’s just as likely that we’ll end up completing our ryanmen before our 
bad waits, and be stuck with a hand we need to riichi in order to win.</p>

<p>We also have the choice to rely on our kamicha. It goes without saying, but if kamicha wins any 
hand, the game will end and we’ll end up in second. Unfortunately, this isn’t the most reliable 
strategy either. Not only is kamicha in a situation where they’re incentivised to fold (as they are 
last oya with an obscene lead), even if they did have a quick hand, the only way we could assist 
them would be by blocking off our simocha from calling. This leaves us at the mercy of toimen; if 
toimen riichi’s and tsumos a mangan, bye-bye 2nd place.</p>

<p>Which brings us to my favourite method; feed simocha! We can leverage the fact that simocha must 
favour speed over value due to the amount of duress he is under from toimen. Not only is toimen 
within 2000 points of simocha, his first and second discards (8m -&gt; hatsu tedashi) signal a quicker 
than usual hand. Furthermore, since this is aka-ari mahjong, toimen’s condition of escaping third 
(2000 points) is essentially a given, with how easy it is to use the dora, and the existence of 
aka-dora. If we are able to convince simocha to start calling, we can reduce the average value of 
their hand and thereby reduce the chance that we’ll fall into third place via a mangan tsumo.</p>

<p>Due to how irregular simocha’s discards are, we can already deduce so much about their hand. 
Simocha’s first and second drop was both a 9p from inside of their hand; they explicitly dropped a 
toitsu of routouhai from the very start. From this, we can conclude that are almost surely going 
for a tanyao hand. If they were going for a closed riichi hand, they would keep the 9p in their 
hand to use as a pair or potential ankou. If they had a yakuhai toitsu, that would give them even 
more reason to keep the 9p toitsu, as it is a very easy toitsu to pon. The 9p toitsu drop also 
tells us that their hand is most likely decently quick and locked into a kuitan shape; if it were 
slower, it would make more sense to fish for yakuhai or try to form a pinfu shape instead of trying 
to force kuitan.</p>

<p>This makes simocha and extremely good candidate to feed. It’s almost as if simocha was signaling to 
us through the 9p toitsu drop that we should feed them! If this was the actual intention from the 
9p toitsu drop, then I have nothing but the upmost respect for them as a player.</p>

<p>In the actual game, I ended up dropping 6m -&gt; 4m in an attempt to feed simocha some tiles they 
could call for kuitan. While 6m passed, 4m was a kanchan neck that simocha needed to call to get 
into tenpai. Simocha then decided to call the 7p that I later dropped to improve their wait. With 
two dora-less mentsu showing, and two dora in my hand (I had picked up 4s on a later draw), the 
chance of simocha having a mangan potential hand have all but disappeared. Kamicha decided to join 
in the fun, breaking up a 3p from one of their mentsu in an attempt to sashikomi into simocha. 
Miraculously, Simocha calls ron on the 3p, winning their 1000 point hand. 1st, 2nd and 3rd place 
have all achieved their separate goals, and all with minimal risk.</p>

<p>By leveraging both the point situation and my read of simochas hand, I confirmed my 2nd place 
without having to play any real sort of RNG game. I removed myself from the round (as did kamicha), 
and instead funneled resources into making simocha’s hand as cheap and fast as possible. Simiocha 
obliged, since they were being threatened by toimen, and by working together, we were able to each 
achieve our goals with minimal risk.</p>

<p>Remember this: anyone can play solitaire. But Mahjong is a four-player game. The crux of good 
mahjong play is to identify each other player’s best interests, and form alliances when a player’s 
interests aligns with yours. Every round, you should be looking to find a friend. If you refuse to 
forge friendships, you’ll find yourself at the mercy of the only friend you can’t trust: Luck.</p>

<p><strong>See you on Tenhou.</strong></p>

      </div>
      <div class="post-author">
        - cozziekuns
      </div>
    </li>
  
    <li class="post">
      <h2>
        <a href="/2018/11/01/pivot.html">Pivot</a>
      </h2>
      <div class="post-date">
        <p class="subtitle">01 Nov 2018</p>
      </div>
      <div class="post">
        <p>Originally, I had planned for this blog to be somewhat instructional, as the English mahjong 
community in general doesn’t have man resources beyond the very basic fundamentals. However, I’ve 
since realised that this isn’t quite the direction I want this blog to go. Partially because I 
don’t think I’m quite good enough to solicit advice just yet, and partly because distilling the 
ideas in my head takes more time and effort than I am willing to commit to at this time.</p>

<p>Instead, I’m want this to be more of a stream of consciousness log, where I can reason about my 
ideas and philosophies regarding mahjong. In other words, I’m repurposing this blog as my personal 
sounding board. Hopefully, any readers that stumble upon it will be able to gleam some 
sort of usefulness within these unfiltered scribbles.</p>

<p>As a sidenote, November marks the start of NaNoWriMo, or National Novel Writing Month. While I 
won’t be engaging in writing a novel, I’m shooting for a goal of one weekly blogpost for this 
month. At the end of the month, I’ll be gauging how viable this release schedule is.</p>

<p><strong>See you on Tenhou.</strong></p>

      </div>
      <div class="post-author">
        - cozziekuns
      </div>
    </li>
  
    <li class="post">
      <h2>
        <a href="/2018/09/23/what-is-lean.html">What Is Lean</a>
      </h2>
      <div class="post-date">
        <p class="subtitle">23 Sep 2018</p>
      </div>
      <div class="post">
        <p>Lean is not a quick hack to increase your win-rates. In the words of Bobby Scar, who applied a 
<a href="https://leanmelee.wordpress.com/">similar-but-different Lean framework</a> (that inspired this one) 
to the game Super Smash Brothers Melee:</p>

<p><em>First, Lean is not a way to start winning a few more games quickly. It’s also not 
merely a reminder that we should continue to learn and improve. The desire to improve 
is a requirement. A commitment to the philosophy of continuously achieving validated 
learning is the foundation.</em></p>

<p>Lean Mahjong is a framework that is all about identifying and removing waste from our process. To 
do this requires a strong understanding of mahjong fundamentals and mechanisms that I plan to delve 
into in the upcoming posts. Instead of giving a detailed explanation and a bunch of definitions 
about what Lean is though, I figure the best way to explain what I hope to accomplish is with a 
simple example. For now, here’s a little taste of what I have planned.</p>

<h3 id="a-problem">A Problem</h3>

<p><img src="/assets/img/2-1.png" alt="2-1" /></p>

<p>What is the best tile to cut here? The xia screams saftey; after all, toimen has already cut a xia, 
meaning that anyone waiting on that tile would have to have committed themselves to a tanki xia 
wait. Plus, if the xia does pass as expected, and one of the two players in riichi is unlucky 
enough to draw a haku, this gives us an instant ryanmen tenpai for a dealer mangan, which would 
essentially be a win condition given how far behind kamicha is. With all that said, surely xia is 
the best tile to cut here?</p>

<p>That’s exactly the trap that I fell in admist the chaos of this hanchan. As a result, I ended up 
playing into a baiman from kamicha (chiitoi with 2 dora 2 ura), and ended the hanchan in 4th, 
losing precious Tenhou dan points. Was this really my fault, or did I just get screwed over by the 
gods of mahjong yet again?</p>

<h3 id="assessment">Assessment</h3>

<p>Was cutting xia such a grave sin? While there are many good reasons that you should cut xia here, 
that doesn’t necessarily mean that you should. Even if it is the most EV positive tile to cut here, 
it’s also what I consider a “lazy” cut.</p>

<p>There are a few key points here. The first is the fact that kamicha is below 3900 points. If they 
play into anything bigger than a 3 han 30 fu hand, they will bust. Assuming that kamicha and 
simocha are waiting on a similar number of tiles, and that both me and toimen fold, and that one of
the ronpai is drawn by a combatant, we are left with the following three outcomes:</p>

<ol>
  <li>50% chance that either player tsumos.</li>
  <li>25% chance that kamicha plays into simocha.</li>
  <li>25% chance that simocha plays into kamicha.</li>
</ol>

<p>(Note: I’ve purposely ignored ryuukyoku since it is actually beneficial in this case. Getting off 
your dealership in South round as 1st place, without incuring any point differential from your 
rival toimen should be considered a win. The percentages are all slightly lower when you factor 
in ryuukyoku.)</p>

<p>This means that by doing absolutely nothing, my chance of flat out winning the hanchan is already 
around a solid 25%; extremely good considering that I am playing betaori. Usually when you decide 
to play betaori, you are essentially conceding a bite-sized chunk of points (tenpai payments or 
tsumo, plus the points you may have earned had you pushed) to dodge a large hit. In this case, you 
might not even have to take a small hit; kamicha busting would be to your absolute advantage!</p>

<p>Similarly, in the event that kamicha hits simocha, kamicha and simocha would now both be outside of 
striking range of first. Essentially, they would be scrapping between themselves for 3rd, and the 
battle for first would be narrowed down to a battle between me and toimen. This is especially good 
in Houou, as placing 2nd nets a fairly decent reward of +45pt.</p>

<p>The second key point is that the dora is the haku. Since I’m already holding two of them, if any of 
the two combatants is using the dora, it must either be a dora tanki or dora toitsu. The first 
thing this tells us is that at least one of the hands is likely cheap, since there are only 2 
usable dora left. The threat of paying into a large oya penalty is therefore lessened.</p>

<p>Next, let’s consider how this affects the potential hand shapes of the players in riichi. 
Discounting dora tanki (since there’s no way I’m playing the dora), let’s suppose that someone is 
holding the dora toitsu. Naturally, a menzen hand holding a toitsu of yakuhai tiles lends itself to 
a specific hand: chiitoi. If we consider the possibility of chiitoi, xia immediately becomes much 
more dangerous. Not only is it commonly considered a good chiitoi wait, if we do play in with the 
xia, it is extremely likely that we will be paying into a haneman. Even that alone is enough to 
offset the relative safety that the xia brings in terms of deal-in percentage. Chancing it risks 
too much for next to zero value.</p>

<h3 id="alternative">Alternative</h3>

<p>So, what should we discard instead? Is there a better tile to cut? In this case, even taking 
toimen’s xia discard into consideration, there is a safer tile to cut.</p>

<p><strong>8s is the safest cut in this instance.</strong></p>

<p>Kamicha has cut 8s and the tile that they declared riichi on was the 5s. This means that if simocha 
is waiting on the 8s, it would have to be kanchan, shanpon, or tanki.</p>

<p>We see two 8s tiles in the discard pile and we have one 8s in our hand, so a shanpon wait is 
physically impossible. Simocha discarded 6s two turns before the riichi, which means that they 
would’ve had to have purposely given up a 58s ryanmen for an 8s kanchan. Last but not least, if 
simocha is waiting on a 8s tanki, that means that they purposely commited to a jigoku tanki on the 
8s, knowing fully well that kamicha is likely to chase given their desperate situation. From a 
macro-game perspective, this train of thought makes next to no sense.</p>

<h3 id="diagnosis">Diagnosis</h3>

<p>Understanding that we made a mistake is important. But even more important is uncovering the root 
cause; that is, why did we make this mistake in the first place? To diagnose this, we have to be 
honest with ourselves and determine, from deep within our mental stack, what exactly led to us 
making this mistake. In our reflection, we need to scan for root causes, which are usually quite 
hard to surface. In my experience, working your way back through your thought process is generally 
the best way to filter for these root causes. For reference, my own inner dialgoue went a little 
like this:</p>

<ul>
  <li>I cut the xia and dealt into a baiman hand.
    <ul>
      <li>Why did I cut the xia?</li>
    </ul>
  </li>
  <li>I felt like xia was safe to push, and I wasn’t aware of any alternatives.
    <ul>
      <li>Why did I feel like xia was safe? Why wasn’t I aware of 8s?</li>
    </ul>
  </li>
  <li>I made a lazy play and didn’t bother considering 8s, because xia is usually safe. I also failed 
to consider that, if xia is the ronpai, it is very likely that I play into a haneman.</li>
</ul>

<p>In this case, the root cause of the problem was hidden in the third layer of my thought process. I 
was lazy; even though xia isn’t genbutsu, I naturally assumed it was the safest tile, given that 
the rest of my hand is filled with all number tiles and the dora. It felt even safer because I had 
a toitsu in my hand, and toimen had discarded one early, leaving tanki as the only option. Had I 
stopped to think about how dangerous (value wise) xia is from the context of this board, or noticed 
that 8s was practically a 100% safe tile, I would have never played it.</p>

<p>(As an aside, I personally believe that the “EV-positive” play is almost always also the lazy one. 
Lazy doesn’t mean that the play is necessarily bad; it just means that, for a given board state, 
there may be a better cut lingering in the shadows that we miss by tunneling on the EV-positive 
play. I often wonder if people that play different imperfect information games, like poker, carry 
similar thoughts to the ones I do regarding this matter…)</p>

<h3 id="treatment">Treatment</h3>

<p>Now that we have identified a root cause for the waste, we need to determine some sort of practical 
treatment to ensure that we never make the same mistake again. In this case, the root cause of my 
misplay was due to my laziness; I tunnel visionned on a tile that is usually safe, and discounted 
any information that might have suggested a better cut.</p>

<p>In the past, I’ve tried increasing my in-game focus level with varying results. It’s simply 
unrealistic to believe that your mind will always be in the zone, especially when playing in a 
relatively low pressure environment like Tenhou. With that in mind, my proposed treatment is a 
quick and fast rule that I can apply and eventually make a habit of. The goal is that, when faced 
with a similar situation, my mind will naturally follows this process. My proposed treatment is as 
follows:</p>

<p><em>Whenever riichi is called, immediately look for at least two tiles that are safe. Then, if 
folding, compare those options and cut the one you have concluded is safest.</em></p>

<p>While I haven’t tested this approach yet (to be honest, I just came up with it today), it seems a 
lot more promising than the usual approach of going down the tile safety tier list. With this, I am 
essentially playing a mind trick on myself. This mind trick forces me to validate the actual safety 
level of a certain tile in lieu of other potential safe tiles.</p>

<p>Obviously, this approach can backfire; the last thing you want to do is waste time stuck in 
analysis paralysis while the Tenhou clock keeps ticking down. It also uses a lot more mental energy 
than the usual “throw the safest tile”. But as this approach becomes more habitual, I am hoping 
that the benefits will provide more than enough compensation for its downsides.</p>

<h3 id="conclusion">Conclusion</h3>

<p>I hope this gives you a deeper insight on what the goal of this project is. Remember, a huge part 
of eliminating waste comes from treating lazy habits like this one. During the course of this 
voyage, I aim to reason about and eliminate as much waste from my mahjong process as I can, keeping 
it as lean as possible. Hopefully you have been inspired to do the same.</p>

<p><strong>See you on Tenhou.</strong></p>

      </div>
      <div class="post-author">
        - cozziekuns
      </div>
    </li>
  
    <li class="post">
      <h2>
        <a href="/2018/09/19/introduction.html">Introduction</a>
      </h2>
      <div class="post-date">
        <p class="subtitle">19 Sep 2018</p>
      </div>
      <div class="post">
        <p><strong><em>Every day is a new day. It is better to be lucky. But I would rather be exact.</em></strong></p>

<p>I’ve been playing competitive mahjong for about a year now, and needless to say I’ve become 
enamoured with the game. In one year, I’ve managed to rank up from a measly Tenhou 3-dan to a 
respectable (?) Tenhou 7-dan, earning the prized privilege of playing online with top players and 
professionals from Japan and the rest of the world on the Houou table. However, facing off against 
the skilled players of the Houou table has presented me with my biggest challenge yet.</p>

<p>I’ve had a constant fear throughout my short career as a competitive mahjong player; the fear of 
being unable to improve. Until now, I’ve always managed to push through any dips in my progression, 
but as a result of achieving 7-dan, it does feel as though I’ve hit a wall. While the opponents 
that I have to face off against have gotten exponentially tougher, my gameplay has remained stale 
and stagnant.</p>

<p>I began to ponder why this stagnation was occuring, and I came to the conclusion that it’s not a 
lack of talent, nor motivation. The root cause of my stagnation lies in the way that I view the 
game.</p>

<p>Mahjong is an extremely difficult game to master, in part due to how noisy the feedback loop is. 
One player may make many a mistake, and still end up 1st on the table due to variance. In the same 
vein, the “best” play may very well end up being the play that puts you in 4th. While in the past 
I’ve used aggregated stats to determine my “level”, I now believe that, even holistically over 1000 
hanchan, results-based feedback is not an option in Mahjong. Tabulating your winning percentages 
tells you a very specific thing; do you win more often, or do you lose more often? But that is very 
different from telling you <em>how</em> or <em>why</em> you win; <em>how</em> or <em>why</em> you lose. You cannot rely on 
stats to tell you why you are winning or losing.</p>

<p><strong>The only thing that you can rely on is <em>process</em>.</strong></p>

<p>Lean Mahjong is my attempt at getting to the very essence of the game of Mahjong. By trimming away 
all the noise and nonsense from the game, we can begin to understand what going on during a game of 
Mahjong at the core. Once we have achieved that understanding, we can begin to build upon that, 
reasoning about what actions cause waste, and what actions deliver value.</p>

<p>I have no clue what will come from this experiment, but I am commiting myself to the process. This 
blog will be a living record; proof of my own commitments. I hope that the information provided in 
this blog, whether effective or not, will be useful or at least insightful to any readers that may 
have stumbled upon it.</p>

<p>And with that, it’s time to begin making sense out of the madness. To wherever madness takes us.</p>

<p><strong>See you on Tenhou.</strong></p>

      </div>
      <div class="post-author">
        - cozziekuns
      </div>
    </li>
  
</ul>

    </div>
  </body>
</html>
